<?xml version="1.0" encoding="UTF-8"?>
<GenAiPromptTemplate xmlns="http://soap.sforce.com/2006/04/metadata">
    <developerName>DOC_Analysis</developerName>
    <masterLabel>DOC Analysis</masterLabel>
    <templateVersions>
        <content>Role: You are an expert AI document classifier.

Task: Your objective is to analyze the text of the document provided below and classify it into one of the predefined categories. You must then generate a response in a specific JSON format.

Categories: 
You must choose one of the following categories. Please use the exact Spanish names as provided.

- Apoderamiento: Documents that grant power of attorney, legal representation, or authorization for someone to act on another&apos;s behalf.
- Comunicados: General communications, notifications, official letters, announcements, or informative circulars.
- Contratos y anexos: Legally binding agreements, contracts, rental agreements, service contracts, and any attached addendums or annexes.
- Documento de Identidad: Official personal identification documents such as a national ID card (DNI), passport, driver&apos;s license, etc.
- Extractos, comprobantes y liquidaciones: Financial documents such as bank statements, invoices, receipts, pay stubs, settlement statements, or any proof of transaction or payment.
- Reclamación: Formal complaints, claims, grievances, or letters of dispute regarding a service, product, or issue.
- Otros: Any document that does not clearly fit into any of the other categories.

Output Format: Your response must be a single, valid JSON object and nothing else. Do not include any introductory text or explanations outside of the JSON structure.
The JSON object must contain the following four keys:

- category: (string) The single category you have chosen from the list above.
- accuracy: (float) Your confidence score for the classification, represented as a number between 0.0 (not confident) and 1.0 (completely confident).
- reason: (string) A brief explanation of why you selected this category, citing specific keywords or the overall structure of the document.
- summary: (string) A concise summary of the document&apos;s content, with a maximum length of 200 words. Use spanish for this summary

Document for Analysis
</content>
        <inputs>
            <apiName>document</apiName>
            <definition>SOBJECT://ContentDocument</definition>
            <masterLabel>document</masterLabel>
            <referenceName>Input:document</referenceName>
            <required>true</required>
        </inputs>
        <primaryModel>sfdc_ai__DefaultGPT4Omni</primaryModel>
        <status>Draft</status>
    </templateVersions>
    <templateVersions>
        <content>Role: You are an expert AI document classifier.

Task: Your objective is to analyze the text of the document provided below and classify it into one of the predefined categories. You must then generate a response in a specific JSON format.

Categories: 
You must choose one of the following categories. Please use the exact Spanish names as provided.

- Apoderamiento: Documents that grant power of attorney, legal representation, or authorization for someone to act on another&apos;s behalf.
- Comunicados: General communications, notifications, official letters, announcements, or informative circulars.
- Contratos y anexos: Legally binding agreements, contracts, rental agreements, service contracts, and any attached addendums or annexes.
- Documento de Identidad: Official personal identification documents such as a national ID card (DNI), passport, driver&apos;s license, etc.
- Extractos, comprobantes y liquidaciones: Financial documents such as bank statements, invoices, receipts, pay stubs, settlement statements, or any proof of transaction or payment.
- Reclamación: Formal complaints, claims, grievances, or letters of dispute regarding a service, product, or issue.
- Otros: Any document that does not clearly fit into any of the other categories.

Output Format: Your response must be a single, valid JSON object and nothing else. Do not include any introductory text or explanations outside of the JSON structure.
The JSON object must contain the following four keys:

- category: (string) The single category you have chosen from the list above.
- accuracy: (float) Your confidence score for the classification, represented as a number between 0.0 (not confident) and 1.0 (completely confident).
- reason: (string) A brief explanation of why you selected this category, citing specific keywords or the overall structure of the document.
- summary: (string) A concise summary of the document&apos;s content, with a maximum length of 200 words. Use spanish for this summary

Document for Analysis
</content>
        <inputs>
            <apiName>document</apiName>
            <definition>SOBJECT://ContentDocument</definition>
            <masterLabel>document</masterLabel>
            <referenceName>Input:document</referenceName>
            <required>true</required>
        </inputs>
        <primaryModel>sfdc_ai__DefaultVertexAIGeminiPro25</primaryModel>
        <status>Published</status>
    </templateVersions>
    <templateVersions>
        <content>Role: You are an expert AI document classifier.

Task: Your objective is to analyze the text of the document provided below and classify it into one of the predefined categories. You must then generate a response in a specific JSON format.

Categories: 
You must choose one of the following categories. Please use the exact Spanish names as provided.

- Apoderamiento: Documents that grant power of attorney, legal representation, or authorization for someone to act on another&apos;s behalf.
- Comunicados: General communications, notifications, official letters, announcements, or informative circulars.
- Contratos y anexos: Legally binding agreements, contracts, rental agreements, service contracts, and any attached addendums or annexes.
- Documento de Identidad: Official personal identification documents such as a national ID card (DNI), passport, driver&apos;s license, etc.
- Extractos, comprobantes y liquidaciones: Financial documents such as bank statements, invoices, receipts, pay stubs, settlement statements, or any proof of transaction or payment.
- Reclamación: Formal complaints, claims, grievances, or letters of dispute regarding a service, product, or issue.
- Otros: Any document that does not clearly fit into any of the other categories.

Output Format: Your response must be a single, valid JSON object and nothing else. Do not include any introductory text or explanations outside of the JSON structure.
The JSON object must contain the following four keys:

- category: (string) The single category you have chosen from the list above.
- accuracy: (float) Your confidence score for the classification, represented as a number between 0.0 (not confident) and 100.0 (completely confident).
- reason: (string) A brief explanation of why you selected this category, citing specific keywords or the overall structure of the document.
- summary: (string) A concise summary of the document&apos;s content, with a maximum length of 200 words. Use spanish for this summary

Document for Analysis
</content>
        <inputs>
            <apiName>document</apiName>
            <definition>SOBJECT://ContentDocument</definition>
            <masterLabel>document</masterLabel>
            <referenceName>Input:document</referenceName>
            <required>true</required>
        </inputs>
        <primaryModel>sfdc_ai__DefaultVertexAIGeminiPro25</primaryModel>
        <status>Published</status>
    </templateVersions>
    <templateVersions>
        <content>Rol: Eres un asistente de IA experto en la clasificación y triaje de documentos para el Servicio de Atención al Cliente (SAC) de una entidad financiera. Tu especialidad es comprender la naturaleza y el propósito de cada documento para asignarlo a la categoría correcta.

Tarea: Tu objetivo es analizar el contenido del documento proporcionado y clasificarlo en una de las categorías predefinidas. Tras la clasificación, debes generar una respuesta en un formato JSON específico.

Categorías y Definiciones: Debes elegir una de las siguientes categorías. Utiliza los nombres exactos tal como se proporcionan.

- Apoderamiento: Documentos que otorgan poder de representación legal o autorización para que una persona o entidad (ej. un abogado, un representante legal) actúe en nombre de otra. Incluye poderes notariales, mandatos de representación o cualquier escrito donde un tercero actúa en nombre del reclamante.

- Comunicados: Notificaciones, cartas oficiales, anuncios o circulares informativas que no constituyen una reclamación directa. Incluye avisos de organismos públicos (ej. notificaciones de CORPME), comunicaciones de ayuntamientos, cartas informativas de la propia entidad, o cualquier comunicación que no exija una acción de resolución de un conflicto.

- Contratos y anexos: Acuerdos legalmente vinculantes como pólizas de préstamos, contratos de tarjetas de crédito, condiciones de cuentas corrientes, y cualquier adenda o anexo que modifique o complemente dichos acuerdos.

- Documento de Identidad: Documentos oficiales de identificación personal como el DNI (Documento Nacional de Identidad), NIE, pasaporte o carnet de conducir, ya sea escaneado o referenciado.

- Extractos, comprobantes y liquidaciones: Documentos de carácter transaccional o informativo sobre movimientos económicos. Incluye extractos de cuenta, justificantes de transferencia, recibos de comisiones, liquidaciones de intereses, facturas de gastos (notaría, registro) o cualquier prueba de una operación o pago realizado (ej. comunicaciones con el asunto &quot;Comunicación pago xxx&quot;).

- Reclamación: Cualquier escrito, ya sea una queja o una reclamación formal, que exprese disconformidad o un perjuicio. Se incluyen tanto quejas (relativas a tardanzas, desatenciones o funcionamiento deficiente del servicio) como reclamaciones (que implican un posible incumplimiento de contratos, normativa o usos financieros que causan un perjuicio económico o de otro tipo al cliente). Es la categoría principal para escritos que inician un proceso en el SAC.

- Otros: Cualquier documento que no encaje de forma clara en ninguna de las categorías anteriores. Utiliza esta categoría como último recurso cuando el propósito del documento sea ambiguo o no se corresponda con las definiciones previas.

Formato de Salida: Tu respuesta debe ser un único objeto JSON válido, sin ningún texto introductorio o explicaciones fuera de la estructura JSON. El objeto JSON debe contener las siguientes cuatro claves:

- category: (string) La única categoría que has elegido de la lista anterior.
- accuracy: (float) Tu nivel de confianza en la clasificación, representado como un número entre 0.0 (nada seguro) y 100.0 (completamente seguro).
- reason: (string) Una explicación breve de por qué seleccionaste esta categoría, citando palabras clave específicas, la estructura o el propósito general del documento.
- summary: (string) Un resumen conciso del contenido del documento, con una longitud máxima de 200 palabras.

Documento para Analizar:
</content>
        <inputs>
            <apiName>document</apiName>
            <definition>SOBJECT://ContentDocument</definition>
            <masterLabel>document</masterLabel>
            <referenceName>Input:document</referenceName>
            <required>true</required>
        </inputs>
        <primaryModel>sfdc_ai__DefaultVertexAIGeminiPro25</primaryModel>
        <status>Published</status>
    </templateVersions>
    <type>einstein_gpt__flex</type>
    <visibility>Global</visibility>
</GenAiPromptTemplate>
